(this["webpackJsonpml-label-app"]=this["webpackJsonpml-label-app"]||[]).push([[0],{64:function(e,a,t){},65:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(5),s=t(6),c=t(3),l=t(7),i=t(8),d=t(4),r=t.n(d),o=t(34),h=t.n(o),b=(t(64),t(65),t(38)),p=t(20),u=t(0);function j(e){return Object(u.jsxs)("div",{className:"left-panel",children:[Object(u.jsx)(O,Object(p.a)({},e)),Object(u.jsx)(x,Object(p.a)({},e))]})}function m(e){e.feature;var a=String(e.value);return(a.startsWith("http")||a.startsWith("www."))&&(a=Object(u.jsx)("a",{className:"commit-link",href:a,children:a})),Object(u.jsxs)("li",{children:[Object(u.jsx)("span",{className:"list-feature",children:e.feature}),": "," ",Object(u.jsx)("span",{className:"list-value",children:a})]})}function x(e){var a=e.data[-1===e.inspected_index?0:e.inspected_index];console.log(a);var t=Object.entries(a).map((function(e){var a=Object(b.a)(e,2),t=a[0],n=a[1];return Object(u.jsx)(m,{feature:t,value:n})}));return Object(u.jsx)("div",{className:"bottom-left-panel",children:Object(u.jsx)("ul",{className:"list-dictionary",children:t})})}function O(e){var a=e.data,t=-1===e.inspected_index?0:e.inspected_index,n=a.map((function(a,n){return Object(u.jsx)(g,{index:n,inspected_index:t,sample:a,onLabelChange:e.onLabelChange,onInspectedIndexChange:e.onInspectedIndexChange},n)}));return Object(u.jsx)("div",{className:"top-left-panel",children:n})}var g=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).handleLabelChange=s.handleLabelChange.bind(Object(c.a)(s)),s.handleInspectedId=s.handleInspectedId.bind(Object(c.a)(s)),s}return Object(s.a)(t,[{key:"handleLabelChange",value:function(e){console.log(e.target.id,"label",e.target.value),this.props.onLabelChange(e.target.id,"label",e.target.value)}},{key:"handleInspectedId",value:function(e){this.props.onInspectedIndexChange(e)}},{key:"render",value:function(){var e=this,a=this.props.index,t=Object.values(this.props.sample)[0],n=this.props.sample.label,s=(this.props.sample["commit url"],"sample-row"+(a%2!=0?" alternate-color":"")+(this.props.inspected_index===a?" inspected-sample":"")),c=["open","close","unknown",""],l=Object(u.jsxs)("select",{id:a,className:"label-select",value:n,onChange:this.handleLabelChange,children:[c.map((function(e){return Object(u.jsx)("option",{value:e,children:e})})),c.includes(n)||""===n?null:Object(u.jsx)("option",{value:n,children:n})]});return Object(u.jsx)("div",{className:s,children:Object(u.jsxs)("ul",{className:"sample-ul",children:[Object(u.jsxs)("li",{className:"sample-index",children:["#",a]}),Object(u.jsx)("li",{className:"sample-first-column",children:t}),Object(u.jsx)("li",{className:"sample-label",children:l}),Object(u.jsx)("li",{className:"sample-inspect-button",children:Object(u.jsx)("button",{className:"inspect-button",onClick:function(){return e.handleInspectedId(a)},children:"Inspect"})})]})})}}]),t}(r.a.Component),v=t(35),f=t.n(v),C=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={code_block:"@ Placeholder: Please select a sample",line_numbers:""},s}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){console.log("@ componentDidUpdate");var a=document.getElementById("scroll-into-view-line");if(null!=a&&a.scrollIntoView(),this.props.inspected_index!==e.inspected_index)if(-1!==this.props.inspected_index){var t=this.props.data[this.props.inspected_index]["commit url"];t=(t=t.replace("https://github.com","https://raw.githubusercontent.com")).replace("tree/","");var n=!0,s=this.props.data[this.props.inspected_index].start_line;s<1&&(s=1,n=!1);var c=this;f.a.get(t).then((function(e){s-=1;var a=e.data.split("\n"),t=a.slice(0,s),l=a[s],i=a.slice(s+1),d=a.map((function(e,a){return Object(u.jsxs)("code",{className:"line-number",children:[a+1,Object(u.jsx)("br",{})]})}));d=Object(u.jsx)("div",{className:"line-numbers",children:Object(u.jsx)("code",{children:d})});var r=Object(u.jsxs)("div",{className:"code-block",children:[Object(u.jsx)("code",{children:t.join("\n")}),s>0?Object(u.jsx)("br",{}):"",Object(u.jsx)("code",{id:"scroll-into-view-line",className:n?"highlight-line":"",children:l}),Object(u.jsx)("br",{}),Object(u.jsx)("code",{children:i.join("\n")})]});c.setState({code_block:r,line_numbers:d})})).catch((function(e){console.log(e)}))}else this.setState({code_block:"@ Placeholder: Please select a sample",line_numbers:""})}},{key:"render",value:function(){return console.log("@ render() of RightPanel"),Object(u.jsxs)("div",{className:"right-panel",children:[this.state.line_numbers,this.state.code_block]})}}]),t}(r.a.Component),_=t(37),N=t(36),I=t.n(N);var k=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).handleFileChange=s.handleFileChange.bind(Object(c.a)(s)),s.handleDownload=s.handleDownload.bind(Object(c.a)(s)),s}return Object(s.a)(t,[{key:"handleFileChange",value:function(e){var a=e.target.files[0],t=this.props.onDataChange,n=new FileReader;n.onload=function(e){var a=e.target.result,n=_.a(a);t(n)},n.readAsText(a)}},{key:"handleDownload",value:function(){var e,a;e=this.props.data,a="output-labelled.csv",I()()(e,a)}},{key:"render",value:function(){var e=Object.keys(this.props.data[0])[0];return Object(u.jsxs)("div",{className:"top-nav",children:[Object(u.jsx)("div",{className:"top-left-nav",children:Object(u.jsxs)("ul",{className:"heading-ul",children:[Object(u.jsx)("li",{className:"heading-index",children:"index"}),Object(u.jsx)("li",{className:"heading-first-column",children:e}),Object(u.jsx)("li",{className:"heading-label",children:"label"})]})}),Object(u.jsxs)("div",{className:"top-right-nav",children:[Object(u.jsx)("input",{type:"file",className:"input-file",onChange:this.handleFileChange}),Object(u.jsx)("button",{className:"download-button",onClick:this.handleDownload,children:"Download"})]})]})}}]),t}(r.a.Component),y=[{bug_pattern:"SAMPLE_01",start_line:92,"commit url":" https://github.com/apache/phoenix/tree/27a6db9ae49df5ca14e2b9cb07ddf6bb608db976/./phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java#L92",label:"open"},{bug_pattern:"SAMPLE_02",start_line:1825,"commit url":"https://github.com/apache/phoenix/tree/27a6db9ae49df5ca14e2b9cb07ddf6bb608db976/./phoenix-core/src/it/java/org/apache/phoenix/end2end/VariableLengthPKIT.java#L1825",label:"close"},{bug_pattern:"SAMPLE_03",start_line:-2,"commit url":"https://github.com/apache/lucene-solr/tree/23aa3e09064b7147e3eb311283fe9e3410f9e39d/./lucene/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/messages/QueryParserMessages.java#L-2",label:""}],w=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={data:y,inspected_index:-1},s.handleValueChange=s.handleValueChange.bind(Object(c.a)(s)),s.handleInspectedIndexChange=s.handleInspectedIndexChange.bind(Object(c.a)(s)),s.handleDataChange=s.handleDataChange.bind(Object(c.a)(s)),s}return Object(s.a)(t,[{key:"handleValueChange",value:function(e,a,t){var n=this.state.data.slice();n[e][a]=t,this.setState({data:n})}},{key:"handleInspectedIndexChange",value:function(e){this.setState({inspected_index:e})}},{key:"handleDataChange",value:function(e){console.log("handle data change in App!"),console.log(e),this.setState({data:e,inspected_index:-1})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"page-container",children:[Object(u.jsx)(k,{data:this.state.data,onDataChange:this.handleDataChange}),Object(u.jsxs)("div",{className:"bottom-container",children:[Object(u.jsx)(j,{data:this.state.data,inspected_index:this.state.inspected_index,onLabelChange:this.handleValueChange,onInspectedIndexChange:this.handleInspectedIndexChange}),Object(u.jsx)(C,{data:this.state.data,inspected_index:this.state.inspected_index})]})]})}}]),t}(r.a.Component);h.a.render(Object(u.jsx)(w,{}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ed6980a7.chunk.js.map